(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[0],{194:function(e,t,a){e.exports=a(311)},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},309:function(e,t,a){e.exports=a.p+"static/media/empty_doc.8182911a.png"},310:function(e,t,a){e.exports=a.p+"static/media/story.da7365b3.png"},311:function(e,t,a){"use strict";a.r(t);a(195),a(221),a(223),a(224),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(233),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263);var n=a(40),r=a(41),o=a(44),c=a(42),s=a(45),i=a(0),l=a.n(i),u=a(52),p=a.n(u),h=(a(271),a(272),a(5)),d=(a(285),a(286),a(287),a(9)),m=a.n(d),f=a(39),b=a(36),g=a(4),v=a.n(g),y=a(8),x=(a(289),a(290),a(43));function _(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";this.back=Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.state.popout||void 0===e.state.popout){t.next=4;break}return e.setState({popout:null}),window.history.pushState({pop:"popout"},"Title"),t.abrupt("return");case 4:if(1!==(a=e.state.history).length){t.next=9;break}m.a.send("VKWebAppClose",{status:"success"}),t.next=13;break;case 9:if(!(a.length>1)){t.next=13;break}return a.pop(),t.next=13,e.setState({activePanel:a[a.length-1],history:a,snackbar:null});case 13:case"end":return t.stop()}}),t)}))),this.go=function(t){var a=e.state.history;"object"===typeof t&&t.currentTarget&&(t=t.currentTarget.dataset.to),a[a.length-1]!==t&&(a.push(t),window.history.pushState({activePanel:t},"Title"),e.setState({activePanel:t,history:a,snackbar:null}))},this.setActiveModal=function(t){e.setState({activeModal:t})},this.setActivePanel=function(t,a){e.setState({activePanel:t,history:a?[].concat(Object(x.a)(a),[t]):[t]})},this.setPopout=function(t){e.setState({popout:t})},this.setAlert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[{title:"\u041e\u043a",autoclose:!0}];e.setPopout(l.a.createElement(h.b,{actions:n,actionsLayout:"vertical",onClose:function(){return e.setPopout(null)},header:t,text:a}))},this.state.history=[t],this.state.activePanel=t}function k(){return{activePanel:this.state.activePanel,onSwipeBack:this.back,history:this.state.history,popout:this.state.popout}}var w=a(26);a(70);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e){return C.apply(this,arguments)}function C(){return(C=Object(y.a)(v.a.mark((function e(t){var a,n,r,o,c=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2&&void 0!==c[2]?c[2]:{},r=a?"?"+Object.keys(a).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent("object"===typeof a[e]?JSON.stringify(a[e]):a[e])})).join("&"):"",o="".concat(t).concat(r),e.next=5,new Promise((function(e,t){fetch(o,O({method:"GET"},n)).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(t){return e({error:{code:-1,text:t.toString()}})}))}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=["SF Pro Text","SF Pro Text Heavy","SF Pro Text Semibold","SF Pro Display","SF Pro Display Bold","SF Pro Display Semibold","SF Pro Display Medium","SF Pro Rounded","SF Pro Rounded Semibold","SF Pro Rounded Bold","SF UI Display","SF UI Text","TT Commons","TT Commons Bold","TT Commons Demibold","Manrope ExtraBold"];function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=!0,a=!1,n=void 0;try{for(var r,o=function(){var e=r.value,t=document.createElement("span");t.style.position="fixed",t.style.fontFamily=e,t.style.opacity="0",t.innerText="test",document.body.appendChild(t),t.onload=function(){return t.remove()}},c=e[Symbol.iterator]();!(t=(r=c.next()).done);t=!0)o()}catch(s){a=!0,n=s}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}}function I(e){return new Promise((function(t){return setTimeout(t,e)}))}function D(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("object"!==typeof t)return"".concat(e," ").concat(t);if(void 0!==e){var n=[];return n[e]||(n[e]=e%100>4&&e%100<20?2:[2,0,1,1,1,2][Math.min(e%10,5)]),(a?e+" ":"")+t[n[e]]}}function A(e){try{return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}catch(t){return 0}}function T(){var e=window.location.search.length>0&&JSON.parse('{"'+decodeURI(window.location.search.substring(1)).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');return e&&e.vk_chat_id&&(e.vk_chat_id=decodeURIComponent(e.vk_chat_id)),e}function F(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,width:0,height:0};a="number"===typeof a?new Array(4).fill(a):a,e.save(),e.beginPath(),e.moveTo(r.x+a[0],r.y),e.lineTo(r.x+r.width-a[1],r.y),e.quadraticCurveTo(r.x+r.width,r.y,r.x+r.width,r.y+a[1]),e.lineTo(r.x+r.width,r.y+r.height-a[2]),e.quadraticCurveTo(r.x+r.width,r.y+r.height,r.x+r.width-a[2],r.y+r.height),e.lineTo(r.x+a[3],r.y+r.height),e.quadraticCurveTo(r.x,r.y+r.height,r.x,r.y+r.height-a[3]),e.lineTo(r.x,r.y+a[0]),e.quadraticCurveTo(r.x,r.y,r.x+a[0],r.y),e.closePath();var o=n?n.x:r.x,c=n?n.y:r.y,s=n?n.width:r.width,i=n?n.height:r.height;e.clip(),e.drawImage(t,o,c,s,i),e.restore()}function M(e){return U.apply(this,arguments)}function U(){return(U=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=document.createElement("img")).crossOrigin="anonymous",a.src=t,e.next=5,new Promise((function(e){return a.onload=function(){return e()}}));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=a(71),W=a.n(V);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=4,R=2,B=3,J="https://vds2153919.my-ihor.ru:8081/api/",G=J+"apps.get",L="https://vds2153919.my-ihor.ru:8088/",H=!1,q=0;function Y(){return{2:{2:{0:23,1:24},1:{2:23,3:24}},3:{2:{0:23,1:29,2:30},1:{3:23,4:29,5:30}},4:{2:{0:16,1:20,2:29,3:30},1:{4:16,5:20,6:29,7:30}}}[z]}function Z(e,t){var a=Y();if(0===e||0===t)return q;for(var n=a[e],r=Object.keys(n).map((function(e){return[e,n[e]]})),o=0;o<r.length;o++){var c=r[o];if(o===r.length-1)return parseInt(c[0]);if(parseInt(t)<=parseInt(c[1]))return parseInt(c[0])}return q}function $(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(y.a)(v.a.mark((function e(t){var a,n,r,o,c,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n=0,r=["groupsJoinUser","groupsMessageUser"];case 3:if(!(n<r.length)){e.next=28;break}o=r[n],a[o]=[],c=t[o],s=0;case 8:if(!(s<c.length)){e.next=25;break}return e.prev=9,e.next=12,m.a.send("VKWebAppGetGroupInfo",{group_id:c[s]});case 12:i=e.sent,a[o].push(i),e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(9),console.error(e.t0),s--,e.next=22,I(1e3);case 22:s++,e.next=8;break;case 25:n++,e.next=3;break;case 28:return e.abrupt("return",N({},t,{},a));case 29:case"end":return e.stop()}}),e,null,[[9,16]])})))).apply(this,arguments)}function X(){return ee.apply(this,arguments)}function ee(){return(ee=Object(y.a)(v.a.mark((function e(){var t,a,n,r,o,c,s,i,l,u,p,h,d,f,b,g,y,x,_,k,w,E,O,C,S,P,I=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.length>0&&void 0!==I[0]&&I[0],H=t,a=parseInt(T().vk_app_id||0),e.next=5,j(G,{app_id:a});case 5:for((n=e.sent.response)||(n={app_id:a,group_id_join:new Array(z*B*2).fill(1),group_id_message:new Array(z*R*2).fill(1),save_photo_album:!1,need_panel_upload_photo:!1,tg_urls:[],is_show_tg:!1,categories_for_tg:[],category_group_default:0,album_name:"\ud83e\udd2a",album_caption:"\u0423\u0437\u043d\u0430\u0439 \u043a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0441\u0442\u0438\u043a\u0435\u0440\u044b - vk.com/app51535584#mark",need_upload_default_album_photo:!1,album_default_photo_url:"https://i.ibb.co/vDCcZsf/photo-2023-01-27-14-38-48.jpg"}),r=[],o=[],s=(c=n).category_group_default,i=c.is_show_tg,l=c.categories_for_tg,u=c.need_panel_upload_photo,p=c.need_upload_default_album_photo,h=c.album_default_photo_url,d=c.group_id_join,f=c.group_id_message,b=c.save_photo_album,g=c.tg_urls,q=s,y=0;y<d.length;y+=B)r.push(d.slice(y,y+B));for(x=0;x<f.length;x+=R)o.push(f.slice(x,x+R));return e.next=13,m.a.send("VKWebAppGetUserInfo");case 13:if(_=e.sent,k=_.sex,w=_.bdate,E=w&&3===w.split(".").length?(new Date).getFullYear()-parseInt(_.bdate.split(".")[2]):0,O=Z(k,E),C=r[O],S=o[O],P={groupsJoinCategory:r,groupsJoinUser:C,groupsMessageCategory:o,groupsMessageUser:S,vk_user:_,app:n,showGroupsCategory:O,savePhotoAlbum:b,need_upload_default_album_photo:p,album_default_photo_url:h,is_show_tg:i,categories_for_tg:l,need_panel_upload_photo:u,need_panel_sex_years:0===k||0===E,tg_urls:g,sex:k,years:E},!H){e.next=25;break}return e.next=24,$(P);case 24:P=e.sent;case 25:return console.debug(P),e.abrupt("return",P);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){var e=this;return l.a.createElement(h.g,{onChange:function(t){return e.setState({selectedSex:t.target.value})},defaultValue:0===this.state.sex||1===this.state.sex?"1":"2",options:Object.keys(Y()).map((function(e){return{value:"".concat(e),label:1==e?"\u0436\u0435\u043d\u0441\u043a\u0438\u0439":"\u043c\u0443\u0436\u0441\u043a\u043e\u0439"}}))})}function ae(){var e=this;return l.a.createElement(h.g,{onChange:function(t){return e.setState({selectedYears:t.target.value})},defaultValue:"".concat(Y()[2][0]),options:Object.keys(Y()[this.state.selectedSex||1]).map((function(t,a,n){var r=Y()[e.state.selectedSex||1][t],o=0===a?"\u0434\u043e ".concat(r):n[a+1]?"\u043e\u0442 ".concat(Y()[e.state.selectedSex||1][n[a-1]]+1," \u0434\u043e ").concat(r):"\u043e\u0442 ".concat(r);return{value:"".concat(r),label:o}}))})}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(y.a)(v.a.mark((function e(t){var a,n,r,o,c,s,i,l,u,p;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof t&&t.currentTarget&&(t=t.currentTarget.dataset.to),a=this.state,n=a.selectedSex,r=a.selectedYears,n||(n=0===this.state.sex||1===this.state.sex?"1":"2"),r||(r="".concat(Y()[2][0])),e.prev=4,o=this.state,c=o.groupsJoinCategory,s=o.groupsMessageCategory,i=Z(n,r),l=c[i],u=s[i],p=N({sex:n,years:r,groupsJoinUser:l,groupsMessageUser:u,showGroupsCategory:i},t?{history:[t],activePanel:t}:{}),!H){e.next=11;break}return e.next=10,$(p);case 10:p=e.sent;case 11:this.setState(p),console.debug(p),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.error("ERR",e.t0,this.state),console.debug({selectedSex:n,selectedYears:r});case 19:case"end":return e.stop()}}),e,this,[[4,15]])})))).apply(this,arguments)}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.send("VKWebAppStorageGet",{keys:[t]});case 2:return e.abrupt("return",e.sent.keys[0].value);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t){return m.a.send("VKWebAppStorageSet",{key:e,value:t})}function ie(e){return le.apply(this,arguments)}function le(){return(le=Object(y.a)(v.a.mark((function e(t){var a,n,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,m.a.send("VKWebAppGetAuthToken",{app_id:parseInt(T().vk_app_id),scope:t});case 4:if(n=e.sent,!(t.includes(",")?n.scope.split(",").length===t.split(",").length:n.scope===t)){e.next=9;break}return e.abrupt("return",n.access_token);case 9:if(!a){e.next=15;break}return e.next=12,ie(t,a);case 12:return e.abrupt("return",e.sent);case 15:return e.abrupt("return",!1);case 16:e.next=27;break;case 18:if(e.prev=18,e.t0=e.catch(1),!a){e.next=26;break}return e.next=23,ie(t,a);case 23:return e.abrupt("return",e.sent);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;m.a.subscribe(function(){var a=Object(y.a)(v.a.mark((function a(n){var r,o,c,s,i;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=n.detail,o=r.type,c=r.data,void 0!==o&&console.debug(o,c),"VKWebAppUpdateConfig"===o?(s=document.createAttribute("scheme"),i=c.scheme?"client_light"===c.scheme?"bright_light":c.scheme:"bright_light",s.value=t||i,document.body.attributes.setNamedItem(s),e[o]&&"function"===typeof e[o]&&e[o]()):e[o]&&"function"===typeof e[o]&&e[o]();case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}function pe(e,t,a,n){return he.apply(this,arguments)}function he(){return(he=Object(y.a)(v.a.mark((function e(t,a,n,r){var o,c,s,i,l,u,p,h,d,f,b,g,x,_=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=_.length>4&&void 0!==_[4]&&_[4],r){e.next=7;break}return e.next=4,ie("photos");case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return",0);case 7:if(e.t0=o,!e.t0){e.next=12;break}return e.next=11,oe("perm_album");case 11:e.t0=e.sent;case 12:if(""!==(s=e.t0)&&o){e.next=22;break}return e.next=16,m.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:a,v:"5.126",access_token:r}});case 16:if(c=e.sent.response.id,!o){e.next=20;break}return e.next=20,se("perm_album","".concat(c));case 20:e.next=23;break;case 22:c=parseInt(s);case 23:l=!1,u=0;case 25:if(!(u<1)){e.next=50;break}return e.prev=26,e.next=29,m.a.send("VKWebAppCallAPIMethod",{method:"photos.getUploadServer",params:{album_id:c,v:"5.126",access_token:r}});case 29:i=e.sent.response.upload_url,e.next=47;break;case 32:if(e.prev=32,e.t1=e.catch(26),l){e.next=45;break}return l=!0,u--,e.next=39,m.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:a,v:"5.126",access_token:r}});case 39:if(c=e.sent.response.id,!o){e.next=43;break}return e.next=43,se("perm_album","".concat(c));case 43:e.next=47;break;case 45:return console.error(e.t1),e.abrupt("return",1);case 47:u++,e.next=25;break;case 50:t instanceof Blob&&(t=[t]),p=!0,h=!1,d=void 0,e.prev=54,f=v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.value,(a=new FormData).append("photo",t,"image.png"),e.prev=3,e.next=6,new Promise((function(e){return W()(L+i,{method:"POST",body:a}).then((function(e){return e.json()})).then(function(){var t=Object(y.a)(v.a.mark((function t(a){var o,s,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=a.server,s=a.photos_list,i=a.hash,t.next=4,m.a.send("VKWebAppCallAPIMethod",{method:"photos.save",params:{album_id:c,server:o,photos_list:s,hash:i,caption:n,v:"5.126",access_token:r}});case 4:e(-1),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),e(2);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())}));case 6:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 10:return e.prev=10,e.t1=e.catch(3),console.error(e.t1),e.abrupt("return",{v:3});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})),b=t[Symbol.iterator]();case 57:if(p=(g=b.next()).done){e.next=65;break}return e.delegateYield(f(),"t2",59);case 59:if("object"!==typeof(x=e.t2)){e.next=62;break}return e.abrupt("return",x.v);case 62:p=!0,e.next=57;break;case 65:e.next=71;break;case 67:e.prev=67,e.t3=e.catch(54),h=!0,d=e.t3;case 71:e.prev=71,e.prev=72,p||null==b.return||b.return();case 74:if(e.prev=74,!h){e.next=77;break}throw d;case 77:return e.finish(74);case 78:return e.finish(71);case 79:case"end":return e.stop()}}),e,null,[[26,32],[54,67,71,79],[72,,74,78]])})))).apply(this,arguments)}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var fe,be=l.a.createElement("rect",{x:21,width:286,height:195,rx:24,fill:"white",fillOpacity:.05}),ge=l.a.createElement("circle",{cx:49,cy:28,r:16,fill:"white",fillOpacity:.1}),ve=l.a.createElement("rect",{x:73,y:14,width:100,height:12,rx:6,fill:"white",fillOpacity:.1}),ye=l.a.createElement("rect",{x:73,y:32,width:130,height:10,rx:5,fill:"white",fillOpacity:.1}),xe=l.a.createElement("rect",{x:21,y:90,width:286,height:105,fill:"white",fillOpacity:.1}),_e=l.a.createElement("rect",{x:33,y:61,width:77,height:16,rx:8,fill:"white",fillOpacity:.1}),ke=l.a.createElement("rect",{y:111,width:327,height:84,fill:"url(#paint0_linear_17_4678)"}),we=l.a.createElement("rect",{x:138,y:143,width:52,height:52,rx:26,fill:"white",fillOpacity:.1}),Ee=l.a.createElement("path",{d:"M167.59 158C169.773 158 170.823 158.203 171.914 158.786C172.903 159.315 173.685 160.097 174.214 161.086C174.797 162.177 175 163.227 175 165.41V172.59C175 174.773 174.797 175.823 174.214 176.914C173.685 177.903 172.903 178.685 171.914 179.214C170.823 179.797 169.773 180 167.59 180H160.41C158.227 180 157.177 179.797 156.086 179.214C155.097 178.685 154.315 177.903 153.786 176.914C153.203 175.823 153 174.773 153 172.59V165.41C153 163.227 153.203 162.177 153.786 161.086C154.315 160.097 155.097 159.315 156.086 158.786C157.177 158.203 158.227 158 160.41 158H167.59ZM154.999 166L155 172.59C155 174.471 155.142 175.209 155.55 175.971C155.892 176.611 156.389 177.108 157.029 177.45C157.791 177.858 158.529 178 160.41 178H167.59C169.471 178 170.209 177.858 170.971 177.45C171.611 177.108 172.108 176.611 172.45 175.971C172.858 175.209 173 174.471 173 172.59L172.999 166H154.999ZM167.59 160H160.41C158.529 160 157.791 160.142 157.029 160.55C156.389 160.892 155.892 161.389 155.55 162.029C155.264 162.563 155.109 163.086 155.041 163.999H172.959C172.891 163.086 172.736 162.563 172.45 162.029C172.108 161.389 171.611 160.892 170.971 160.55C170.209 160.142 169.471 160 167.59 160Z",fill:"white"}),Oe=l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear_17_4678",x1:163.5,y1:111,x2:163.5,y2:195,gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{stopColor:"#303030",stopOpacity:0}),l.a.createElement("stop",{offset:.397005,stopColor:"#303030",stopOpacity:.7}),l.a.createElement("stop",{offset:.622967,stopColor:"#303030"}))),je=function(e){var t=e.svgRef,a=e.title,n=me(e,["svgRef","title"]);return l.a.createElement("svg",de({width:327,height:195,viewBox:"0 0 327 195",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,be,ge,ve,ye,xe,_e,ke,we,Ee,Oe)},Ce=l.a.forwardRef((function(e,t){return l.a.createElement(je,de({svgRef:t},e))})),Se=(a.p,a(316)),Pe=a(317),Ie=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(c.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.activeModal;return l.a.createElement(h.n,{activeModal:n},l.a.createElement(h.m,{id:"access",onClose:function(){return a.setActiveModal(null)},icon:l.a.createElement(Ce,null),header:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c",subheader:"\u041c\u044b \u043d\u0435 \u0431\u0443\u0434\u0435\u043c \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0431\u0435\u0437 \u0432\u0430\u0448\u0435\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f",actions:l.a.createElement(h.e,{size:"l",stretched:!0,onClick:Object(y.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie("photos");case 3:n=t.sent,e.props.t.setState({access_token:n}),e.props.t.forceUpdate(),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:a.setActiveModal(null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))},"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c")}))}}]),t}(l.a.PureComponent),De=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={activeStep:0,steps:2},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.activeStep,n=t.steps,r=this.props,o=r.onEnd,c=r.t,s=this.onboard_data,i=s.icon,u=s.title,p=s.text,d=s.button,m=s.buttonOnClick,f=s.body;return l.a.createElement("div",{className:"Onboard"},l.a.createElement("div",{className:"Onboard-Content"},i&&l.a.createElement("img",{alt:"icon",src:i,width:44,height:44}),l.a.createElement("h1",null,u),l.a.createElement("p",null,p),l.a.createElement("div",{className:"Pagination"},new Array(n).fill(0).map((function(e,t){return l.a.createElement("div",{key:"Pagination_".concat(t),className:"Pagination-Circle",style:{opacity:a===t?1:.3}})})))),f,l.a.createElement("div",{style:{display:"flex",width:"100%"}},l.a.createElement(h.e,{size:"l",stretched:!0,style:{transition:"all 300ms ease-in-out",marginTop:f?32:53},onClick:Object(y.a)(v.a.mark((function t(){var r,s,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!m||"function"!==typeof m){t.next=3;break}return t.next=3,m();case 3:r=c.state,s=r.sex,i=r.years,a<n-1&&(0===s||0===i)?e.setState({activeStep:a+1}):o();case 5:case"end":return t.stop()}}),t)})))},d)))}},{key:"onboard_data",get:function(){var e=this,t=this.props.t;return[{icon:"https://em-content.zobj.net/thumbs/160/apple/354/ring_1f48d.png",title:"\u0411\u0440\u0430\u043a\u043e\u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u0435",text:"\u041c\u044b \u043f\u043e\u043c\u043e\u0436\u0435\u043c \u0437\u0430\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0442\u0435\u0431\u0435 \u0431\u0440\u0430\u043a \u0441 \u043b\u044e\u0431\u0438\u043c\u044b\u043c",button:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",buttonOnClick:function(){return e.props.t.setActiveModal("access")}},{title:"\u0415\u0449\u0451 \u043a\u043e\u0435-\u0447\u0442\u043e",text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u043e\u0437\u0440\u0430\u0441\u0442 \u0438 \u043f\u043e\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",body:l.a.createElement("div",{className:"Onboard-Body"},l.a.createElement("div",null,l.a.createElement("span",null,"\u041f\u043e\u043b"),te.bind(t)()),l.a.createElement("div",null,l.a.createElement("span",null,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"),ae.bind(t)())),button:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0430\u043d\u043a\u0435\u0442\u0435",buttonOnClick:ne.bind(t)}][this.state.activeStep]}}]),t}(l.a.PureComponent),Ae=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={step_data:[]},_.bind(Object(b.a)(a))("onboard"),a.componentDidMount=a.componentDidMount.bind(Object(b.a)(a)),a.onChangeInputData=a.onChangeInputData.bind(Object(b.a)(a)),a.createDocument=a.createDocument.bind(Object(b.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,X(!0);case 3:return e.t1=e.sent,e.next=6,e.t0.setState.call(e.t0,e.t1);case 6:return ue({VKWebAppUpdateConfig:function(){m.a.supports("VKWebAppSetViewSettings")&&m.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"#272727"})}},"space_gray"),m.a.send("VKWebAppInit"),e.next=10,P(["SF Pro Text Medium"]);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(fe)}},{key:"onChangeInputData",value:function(e,t,a){if(!t||!a){var n=e.currentTarget;t=n.dataset.obj,a=n.dataset.key,e=n.value}var r=this.state[t]||{};r[a]=e,this.setState(Object(f.a)({},t,r))}},{key:"createDocument",value:function(){var e=this,t=12e4;this.setState({time:t}),fe=setInterval((function(){t-=1e3,e.setState({time:t}),t<=0&&clearInterval(fe)}),1e3),this.go("subscribe"),setTimeout(Object(y.a)(v.a.mark((function t(){var n,r,o,c,s,i,l,u,p,h,d,m,f,b,g,y,x,_,k,E,O,j,C,S,P,I,D,A,T;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(w.loadImage)(a(309));case 2:for(n=t.sent,r=Object(w.createCanvas)(n.width,n.height),(o=r.getContext("2d")).drawImage(n,0,0),o.font="17px SF Pro Text Medium",o.textAlign="left",o.fillStyle="#000000",c=e.state,s=285,i=["data_husband","data_wife","data_general"],l=0;l<i.length;l++)for(u=Object.keys(c[i[l]]),p=0;p<u.length;p++)h=u[p],d=c[i[l]][h],"birthday"!==h&&"regdate"!==h||(d=new Date(d).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})),l+p>0&&(s+=38,1===l&&0===p&&(s+=86),2===l&&0===p&&(s+=200),2===l&&2===p&&(s+=37),2===l&&3===p&&(s+=13)),o.fillText(d,"birthday"===h||h.startsWith("reg")?500:318,s);return m=r.toDataURL("image/png"),t.next=16,Object(w.loadImage)(m);case 16:return f=t.sent,t.next=19,Object(w.loadImage)(a(310));case 19:if(b=t.sent,g=Object(w.createCanvas)(b.width,b.height),(y=g.getContext("2d")).drawImage(b,0,0),F(y,f,69,null,{x:142.96,y:366.04,width:795.07,height:1140.24}),x=g.toDataURL("image/png"),e.setState({doc:m,story:x}),!e.state.access_token){t.next=43;break}if(_=e.state,k=_.savePhotoAlbum,E=_.need_upload_default_album_photo,O=_.album_default_photo_url,j=e.state.app,C=j.album_name,S=j.album_caption,!k){t.next=43;break}return t.next=32,new Promise((function(e){return g.toBlob((function(t){return e(t)}))}));case 32:if(P=t.sent,!E){t.next=42;break}return t.next=36,M(O);case 36:return I=t.sent,D=a(26),A=D.createCanvas,T=A(I.width,I.height),T.getContext("2d").drawImage(I,0,0),t.next=41,new Promise((function(e){return T.toBlob((function(t){return e(t)}))}));case 41:P=t.sent;case 42:pe(P,C,S,e.state.access_token);case 43:case"end":return t.stop()}}),t)}))))}},{key:"render",value:function(){var e=this,t=this.state,n=t.activeModal,r=t.step_data,o=t.time,c=t.doc,s=t.story,i=this.state[r[2]],u=function(e){var t,a,n,r,o,c;return c=parseInt(Math.floor(e/1e3)),o=parseInt(Math.floor(c/60)),r=parseInt(Math.floor(o/60)),n=parseInt(c%60),a=parseInt(o%60),{hours:t=parseInt(r%24),minutes:a,seconds:n,str:{hours:t.toLocaleString("ru",{minimumIntegerDigits:2}),minutes:a.toLocaleString("ru",{minimumIntegerDigits:2}),seconds:n.toLocaleString("ru",{minimumIntegerDigits:2})}}}(o).str;return l.a.createElement(h.r,Object.assign({},k.bind(this)(),{modal:l.a.createElement(Ie,{t:this,activeModal:n})}),l.a.createElement(h.o,{id:"onboard"},l.a.createElement(De,{onEnd:function(){e.go("main1")},t:this}),l.a.createElement("img",{alt:"bg",className:"Background",src:a(69)})),l.a.createElement(h.o,{id:"main1"},l.a.createElement("div",{className:"Steps"},this.steps.map((function(t,a){return l.a.createElement("div",{key:"div-".concat(a)},l.a.createElement("h1",null,"\u0428\u0430\u0433 ",a+1),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("img",{alt:"img",src:t[0],width:28,height:28}),l.a.createElement("div",null,l.a.createElement("h3",null,t[1]),l.a.createElement("span",null,e.state[t[2]]?"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"))),l.a.createElement(h.e,{onClick:function(){e.setState({step_data:t}),e.go("input_data")}},e.state[t[2]]?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c")))})),l.a.createElement("div",null,l.a.createElement("h1",null,"\u0428\u0430\u0433 ",this.steps.length+1),l.a.createElement(h.e,{size:"l",disabled:this.steps.filter((function(t){return e.state[t[2]]})).length<this.steps.length,onClick:this.createDocument},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043d\u043a\u0435\u0442\u0443"))),l.a.createElement("img",{alt:"bg",className:"Background",src:a(69)})),l.a.createElement(h.o,{id:"input_data"},l.a.createElement(h.j,null,l.a.createElement("div",{className:"EmojiTitle"},l.a.createElement("img",{alt:"img",src:r[0]}),l.a.createElement("h1",null,r[1])),l.a.createElement(h.q,{size:24}),"data_general"!==r[2]?l.a.createElement(l.a.Fragment,null,l.a.createElement(h.i,{top:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},l.a.createElement(h.k,{value:i&&i.last_name,"data-obj":r[2],"data-key":"last_name",onChange:this.onChangeInputData})),l.a.createElement(h.i,{top:"\u0418\u043c\u044f"},l.a.createElement(h.k,{value:i&&i.first_name,"data-obj":r[2],"data-key":"first_name",onChange:this.onChangeInputData})),l.a.createElement(h.i,{top:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"},l.a.createElement(h.k,{value:i&&i.middle_name,"data-obj":r[2],"data-key":"middle_name",onChange:this.onChangeInputData})),l.a.createElement(h.i,{top:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e"},l.a.createElement(h.k,{value:i&&i.citizenship,"data-obj":r[2],"data-key":"citizenship",onChange:this.onChangeInputData})),l.a.createElement(h.i,{top:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"},l.a.createElement(h.h,{value:i&&i.birthday,onChange:function(t){return e.onChangeInputData(t,r[2],"birthday")}})),l.a.createElement(h.i,{top:"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"},l.a.createElement(h.k,{value:i&&i.birthplace,"data-obj":r[2],"data-key":"birthplace",onChange:this.onChangeInputData}))):l.a.createElement(l.a.Fragment,null,l.a.createElement(h.i,{top:"\u041d\u043e\u0432\u0430\u044f \u0444\u0430\u043c\u0438\u043b\u0438\u044f \u043c\u0443\u0436\u0430"},l.a.createElement(h.k,{value:i&&i.last_name_husband,"data-obj":r[2],"data-key":"last_name_husband",onChange:this.onChangeInputData})),l.a.createElement(h.i,{top:"\u041d\u043e\u0432\u0430\u044f \u0444\u0430\u043c\u0438\u043b\u0438\u044f \u0436\u0435\u043d\u044b"},l.a.createElement(h.k,{value:i&&i.last_name_wife,"data-obj":r[2],"data-key":"last_name_wife",onChange:this.onChangeInputData})),l.a.createElement(h.i,{top:"\u041c\u0435\u0441\u0442\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0431\u0440\u0430\u043a\u0430"},l.a.createElement(h.k,{value:i&&i.regplace,"data-obj":r[2],"data-key":"regplace",onChange:this.onChangeInputData})),l.a.createElement(h.i,{top:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0431\u0440\u0430\u043a\u0430"},l.a.createElement(h.h,{value:i&&i.regdate,onChange:function(t){return e.onChangeInputData(t,r[2],"regdate")}}))),l.a.createElement(h.i,null,l.a.createElement(h.e,{size:"l",stretched:!0,onClick:this.back},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),l.a.createElement("img",{alt:"bg",className:"Background",src:a(69)})),l.a.createElement(h.o,{id:"subscribe"},l.a.createElement("div",{className:"EmojiTitle"},l.a.createElement("img",{alt:"img",src:"https://em-content.zobj.net/thumbs/160/apple/354/love-letter_1f48c.png"}),l.a.createElement("h1",null,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0447\u0442\u0438 \u0433\u043e\u0442\u043e\u0432")),l.a.createElement("p",null,l.a.createElement("br",null),"\u0412\u0440\u0435\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430: ",l.a.createElement("span",{style:{color:"#FFFFFF"}},u.minutes,":",u.seconds),l.a.createElement("br",null)," ",l.a.createElement("br",null),"\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0441\u0440\u0430\u0437\u0443, \u043f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430"),l.a.createElement(h.l,null,[["groupsJoinUser",l.a.createElement(Se.a,{fill:"#FFFFFF"}),"VKWebAppJoinGroup"],["groupsMessageUser",l.a.createElement(Pe.a,{fill:"#FFFFFF"}),"VKWebAppAllowMessagesFromGroup"]].map((function(t,a){return e.state[t[0]]&&e.state[t[0]].map((function(n,r){return l.a.createElement(h.p,{key:"Cell-".concat(a,"-").concat(r),before:l.a.createElement(h.d,{size:48,src:n.photo_50}),after:t[1],onClick:Object(y.a)(v.a.mark((function a(){var r,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.a.send(t[2],{group_id:n.id});case 3:r=e.state.subscribed||0,r++,o=e.state.time,r>=e.state.groupsJoinUser.length+e.state.groupsMessageUser.length&&(o=0,clearInterval(fe)),e.setState({subscribed:r,time:o}),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(0);case 12:case"end":return a.stop()}}),a,null,[[0,10]])}))),subtitle:"".concat(A(n.members_count)," ").concat(D(n.members_count,["\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"],!1))},n.name)}))}))),l.a.createElement(h.e,{size:"l",disabled:o>0,onClick:function(){return e.go("result1")}},"\u0414\u0430\u043b\u0435\u0435")),l.a.createElement(h.o,{id:"result1"},l.a.createElement("div",{className:"EmojiTitle"},l.a.createElement("img",{alt:"img",src:"https://em-content.zobj.net/thumbs/160/apple/354/ring_1f48d.png"}),l.a.createElement("h1",null,"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e")),l.a.createElement("img",{alt:"doc",src:c}),l.a.createElement("div",{className:"Buttons"},l.a.createElement(h.e,{size:"l",onClick:function(){m.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:s,attachment:{url:"https://vk.com/app".concat(T().vk_app_id),text:"go_to",type:"url"}})}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),l.a.createElement(h.e,{size:"l",mode:"tertiary",onClick:function(){e.setActivePanel("main1")}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"))))}},{key:"steps",get:function(){return[["https://em-content.zobj.net/thumbs/160/apple/354/woman-with-veil-light-skin-tone_1f470-1f3fb-200d-2640-fe0f.png","\u0414\u0430\u043d\u043d\u044b\u0435 \u0436\u0435\u043d\u044b","data_wife"],["https://em-content.zobj.net/thumbs/160/apple/354/person-in-tuxedo_light-skin-tone_1f935-1f3fb_1f3fb.png","\u0414\u0430\u043d\u043d\u044b\u0435 \u043c\u0443\u0436\u0430","data_husband"],["https://em-content.zobj.net/thumbs/160/apple/354/red-heart_2764-fe0f.png","\u041e\u0431\u0449\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435","data_general"]]}}]),t}(l.a.Component),Te=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.a.subscribe((function(t){var a=t.detail,n=a.type,r=a.data;"VKWebAppUpdateConfig"===n&&e.setState({appearance:r.appearance})}))}},{key:"render",value:function(){return l.a.createElement(h.f,{webviewType:h.s.INTERNAL,appearance:this.state.appearance},l.a.createElement(h.a,null,l.a.createElement(h.c,null,l.a.createElement(Ae,null))))}}]),t}(l.a.Component);p.a.render(l.a.createElement(Te,null),document.getElementById("root"))},69:function(e,t,a){e.exports=a.p+"static/media/bg.7763e98a.png"}},[[194,1,2]]]);
//# sourceMappingURL=main.456067a0.chunk.js.map